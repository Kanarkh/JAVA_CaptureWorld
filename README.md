# JAVA_CaptureWorld

## [작품 이름]

전략 땅따먹기

## [작품 소개]

병사를 이용해서 바둑판 모양(5x5 크기)의 땅들을 더 많이 점령한다, 상대보다 더 많은 세금을 확보해 상대방의 수도를 점령하는 목표를 가진 실시간 전략 시뮬레이션 게임

 

(게임의 룰)

* 병력을 보내 상대보다 더 많은 땅을 차지하라.

* 내 보급로는 유지시키고 상대의 보급로를 차단하라.

* 상대방 수도를 먼저 점령하는 플레이어가 승리한다.

* 병사는 가로 세로로만 이동할 수 있고 대각선으로는 이동할수 없다.(보급로 또한 동일하게 적용)
※보급로 : 점령한 땅이 다른 점령지를 통해 수도로 이어지는지 여부

 

(플레이할 왕 선택하기)
* 기사출신 : 오만한 기사 출신의 왕은 자신을 왕위에 올려준 자신의 힘 만을 과신하고 있습니다, 그를 따르는 병사들은 자신의 왕을 동경하고 닮아 병사들도 오만합니다. 기사 출신 왕의 오만이 높아질수록 그의 병사들도 오만해져서 상대를 얕보는 실수를 저지릅니다. 
* 상인출신 : 탐욕스런 상인 출신 왕은 자신을 왕위에 올려준 돈 많이 가장 큰 가치라 생각합니다. 그의 탐욕이 커질수록 자신의 영토에서 무리하게 세금을 징수합니다. 백성들은 탐욕스러운 왕 때문에 생활이 힘들고 병사들의 충성심 또한 낮습니다.
* 도적출신 : 빈민가 뒷골목 도적 출신이였던 그는 결국 한 나라의 왕의 자리를 훔치게 됩니다. 왕이 되어서도 그의 욕심은 멈추지 않습니다. 그는 끊임없이 자신보다 많이 가진 자들을 시기하고 다른 왕국의 왕을 질투합니다.

(병사의 능력치) 
|병사이름|공격력|체력|이동속도|특수능력|생산골드|
|---|---|---|---|---|---|
|보병|2|4|1|없음|2|
|방패병|1|7|1|없음|3|
|기병|3|5|2|없음|4|
|폭탄병|2|2|1|자폭하기|8|
|공작원|1|1|1|선동하기|10|

※폭발하기 : 전투가 시작되면 폭탄병은 가지고 있는 폭발물을 터트립니다. 같은 땅에 있는 아군과 적군 모든 병력에게 2의 피해를 줍니다. 
※선동하기 : 공작원은 명령받은 땅에 도착하면 적국의 병사들과 시민들에게 반란을 선동합니다. 선동에 성공하면 그 땅의 소유권과 땅을 지키던 적국의 병사들을 획득합니다.

(지형에 따른 병사의 능력치 변화) 
-전투를 하는 병사들은 자신들의 특성에 잘 맞는 지형에서 실력 발휘를 평소보다 더 잘합니다.

|병사이름|지형|능력치 변화|
|---|---|---|
|보병|숲(Woods)|공격력 1 증가, 체력 1 상승|
|방패병|협곡(Canyon)|체력 2 상승|
|기병|평원(Plains)|공격력 2 상승|
|폭탄병|초원(Grassland)|폭발력 1상승|

* 보병은 나무가 많은 숲 지역에서 게릴라 전투에 능합니다.
* 좁은 협곡에서 방패병의 허점을 공격하기는 쉽지 않습니다.
* 기병의 기병술은 말이 잘 달릴 수 있는 평원에서 진가가 드어납니다.
* 건조한 초목이 많은 초원에서 폭발이 난다면 그 화염속에서 무사하기란 쉽지 않습니다.

(보급로)
* 보급로: 점령한 땅에서 자신이 점령한 다른 땅을 통해 자신의 수도까지 이어진 길
* 점령한 영토에서 걷어들이는 세금은 수도까지 이어진 보급로를 통해 왕에게 전달되고, 보급로를 통해 영토의 시민들이 필요한 식량과 생필품을 전달받게 됩니다.
* 보급로가 어떠한 이유에서건(다른 왕국의 병사가 있어 지나갈 수 없거나, 해당 땅에 호위할 병력이 없을 경우) 끊어지게 되면 해당 영토는 고립상태가 되며 세금을 왕에게 보낼수 없습니다. 

## [주요 기능]

1. 회원가입과 회원정보 저장
 * 프로그램이 종료 되어도 회원정보(ID,PW, NAME ,승패 기록)이 지워지지 않고 저장됩니다. 

2. AI
 * AI는 보급로를 유지하며 땅을 점령합니다.
 * AI는 점령하는 땅의 4가지 정보를 기준으로 어떤 땅을 우선 점령할지 선택합니다
  1. 해당 땅에서 상대방 수도와의 거리
  2. 해당 땅에서 자신의 수도와의 거리
  3. 해당 땅을 점령했을시 얻게될 골드의 크기
  4. 해당 땅이 비어있는지, 점령되있는지 여부. 
 * 위의 4가지 기준중 어떤 기준을 더 중요하게 생각하는지는 게임이 새로 시작될때마다 달라집니다.
   ex) 1번을 중요시하는 AI는, 2번을 중요시하는 AI보다 공격적인 행동패턴을 보여줍니다.

 * AI는 왕의 전용 스킬을 사용할때 자신이 스킬을 성공시킬 경우에만 사용합니다. 
 ex) 기사 출신 왕은 상대방의 왕보다 자신의 공격력이 높을 경우에만 스킬을 사용합니다.

3. 병사의 이동을 위한 길찾기 기능
 * 병사는 자신이 있는 위치를 기준으로 목적지 까지 가로와 세로로 얼만큼 어느 방향으로 가는지 알고 있습니다.
 * 병사는 목적지까지 가는데 어떤 길을 통해 갈지는 주변 상황을 기준으로 스스로 판단해 가게됩니다.
  ex) 
   1	 2	 3
   4	 5	 6
   7	 8	 9
위와 같은 맵이 있다면 1번위치에서 9번 위치까지 도착하기 위해 가로로 2번 오른쪽으로 이동하고 세로로 두번 아래쪽으로 내려가야 합니다. 가는 방법은 1-2-3-6-9와 1-2-5-8-9 등 가로와 세로의 방향과 이동 횟수만 지킨다면 모두 최단거리 이동입니다. 병사는 주변 땅의 정보를 확인하여(적군이 있는지, 비어있는 땅인지 등) 자신에게 유리한 방향의 길로 이동을 합니다. 

4. 보급로 계산
 * 보급로 확인의 구현은 다음과 같은 규칙이 있습니다.
  1. 특정 땅이 수도와 연결되 있다면, 그 땅과 연결된 땅들도 수도와 연결되 있다.
  2. 특정 땅이 수도와 연결되 있지 않다면, 그 땅과 연결된 땅들도 수도와 연결되 있지 않다.

 * 특정 땅이 수도와 연결되 있는지 확인 여부와 특정 땅과 인접한 땅들의 정보는, 너비 우선 탐색 알고리즘과 동일한 원리로 확인을 합니다.

5. 병사의 전투 
 * 서로 다른 국가의 병사가 같은 땅에서 만났을 시 전투가 진행됩니다. 병사는 해당 땅의 지형 정보에 따라 그 땅에서만 능력치를 보정받습니다.  

6. 병사의 점령
 * 전투에 승리한 병사는 해당 땅을 자신의 소속으로 옮기게 됩니다. 그러나 자신이 이동하는 도중 벌어진 전투에서 승리한 경우에는 땅을 점령하지 않고 자신이 받은 임무를 완수하기 위해 땅을 주인없는 상태로 놔두고 이동하게 됩니다.

7. 특수병사(폭탄병, 공작원)의 전용기술
 * 특수병사는 임무 수행시 위에서 설명한 능력을 사용합니다. 

8. 게임 시간
 * 5초마다 각 플레이어는 자신이 점령한 땅의 세금 총합만큼 골드를 획득합니다
 * 게임이 얼마나 진행 됬는지에 대한 정보를 플레이어에게 GUI를 통해 알려줍니다. 

9. 토착민 조건 검사와 발생 이벤트 처리 기능
 * 땅이 특정 시간동안 주인이 없을 경우 특정 확률에 따라 토착민을 생성시키고 해당 땅의 세금을 올립니다. 
 * 토착민이 해당 땅을 지키게 됩니다. 토착민이 발생한 땅을 점령하려면 토착민과 전투후 승리해야 합니다.

10. 왕의 전용 스텟에 따른 게임 영향
 * 기사 출신 왕의 병사들은 왕의 오만의 크기에 비례한 확률로 전투에서 원래 공격력의 50%만 처리됩니다.
 * 상인 출신 왕은 탐욕의 크기에 비례한 확률로 자신이 점령한 땅에서 두배의 세금을 획득합니다
 * 상인 출신 왕이 점령한 땅을 상대방이 공작원을 통해 선동을 시도할시 탐욕의 크기에 비례한만큼 상대방이 선동에 성공할 확률이 높아집니다.
 * 도적 출신 왕이 징집한 공작원은 다른 왕이 징집한 공작원보다 시기의 크기만큼 선동 성공 확률이 높습니다.

## [사용 Thread]
1. AI Thread (AI가 조종하는 왕의 생명력이 0이하면 Thread 정지)
2. 일반 병사 임무 Thread (이동, 전투, 점령 과정의 기능 수행/임무를 완수하거나 체력이 0이되면 Thread 정지)
3. 폭탄병 임무 Thread (이동, 전투 점령, 폭발하기 기능 수행/임무를 완수하거나 체력이 0이되면 Thread 정지)
4. 공작원 임무 Thread (이동, 점령, 선동하기 과정의 기능 수행/임무를 완수하거나 체력이 0이되면 Thread 정지)
5. 토착민 생성 조건 확인 Thread (토착민 생성 조건을 해당 땅들이 충족했는지 확인하고 충족시 토착민을 생성한다/게임이 진행되는 동안 Thread 유지)
6.도적 출신 왕 스킬 Thread (스킬 발동후 상대방이 세금을 못 얻도록 막는다, 일정시간이 지나면 원상태로 복원후 Thread 정지)
7.보급로 계산 Thread (땅의 소유권에 변화가 발생하면 해당 땅과 그 주변 땅에 보급로 계산 Thread가 동작한다)
